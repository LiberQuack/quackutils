function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire9622;t.register("2f6Jz",(function(r,n){var o;o=r.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),e(r.exports,"default",(()=>l)),t("l0AYr");var i=t("di58i"),s=t("dlCTC"),c=t("jkSQt");t("95n3w"),t("i1u1J");const a=c.html`
    <stripe-form .stripePublicKey="${"pk_test_51IG332FIx1iLyZGc71gYaVCUDKMPAFlRn49tyrzTqf3FYymriwKSJAnKbWyAK9c9WdIi3gn6O9Y8rOKc1tpSJGmQ00RU6pFiTC"}">
        <stripe-card-number></stripe-card-number>
        <stripe-card-expiry></stripe-card-expiry>
        <stripe-card-cvc></stripe-card-cvc>
    </stripe-form>
`,u={};function l({components:e,...t}){return(0,i.mdx)("wrapper",{...u,...t,components:e,mdxType:"MDXLayout"},(0,i.mdx)(s.ReactHtmlRender,{html:a,mdxType:"ReactHtmlRender"}))}l.isMDXComponent=!0})),t.register("95n3w",(function(e,r){var n=t("aLtEB"),o=t("1haoc"),i=t("2NXZw"),s=t("30Ln9"),c=t("dcRWp"),a=t("9so9i"),u=t("jkSQt"),l=t("lA8qr"),d=(o=t("1haoc"),t("gxpVb"));const p=(...e)=>e;let m=(0,a.component)((function(e){(0,i.useLayoutEffect)((()=>{d.css`
            stripe-form { display: block }
        `}),[]);const[r,o]=(0,i.useState)(!1),a=(0,i.useRef)(null),m=(0,s.useAwait)((async()=>{const r=await t("affuK"),n=await r.loadStripe(e.stripePublicKey);if(!n)throw"Could not load stripe";const i=n.elements(),s=[{name:"cardNumber"},{name:"cardExpiry"},{name:"cardCvc",opts:{placeholder:"000"}}];let u=0;const l=s.map((e=>{const t=i.create(e.name,e.opts),r=document.createElement("div");return t.mount(r),t.on("ready",(e=>{u+=1;let t=new CustomEvent("elementready",{detail:e,bubbles:!0});if(this.dispatchEvent(t),u===s.length){let e=new CustomEvent("formready",{bubbles:!0});o(!0),this.dispatchEvent(e)}})),{...e,stripeElm:t,container:r}})),d=(0,c.dictionaryMap)((0,c.listToDictionary)(l,"name"),((e,t)=>(t.stripeElm.mount(t.container),[e,t.container])));a.current={stripeClient:n,stripeElements:i,stripeElementInstances:l.map((e=>e.stripeElm)),html:d},this.value=a.current}));(0,i.useEffect)((()=>{m.run()}),[]);const f=(0,s.useAwait)((async()=>{if(r&&a.current){const{stripeClient:e,stripeElements:t}=a.current,r=await(e?.createToken(t.getElement("cardNumber")));if(r.token){const e=new CustomEvent("sendcardtoken",{detail:{token:r.token},bubbles:!0});this.dispatchEvent(e)}if(r.error)throw console.warn(r.error),r.error}}));return u.html`
        <div style="position: relative;">

                ${f.err?u.html`
                    <div class="t-danger" style="margin-bottom: 1.5em">
                        ${p(f.err)}
                    </div>
                `:void 0}
    
                <ButtonElement onclick=${f.run} .content=${(0,n.jsx)("div",{children:(0,l.switcher)({case:f.loading||e.forceLoading,then:"Cadastrando..."},{case:!0,then:e.btnContent??"Cadastrar"})})}/>

        </div>
    `}),{useShadowDOM:!1,baseElement:o.StripeContext.Provider});customElements.define("stripe-form",m)})),t.register("1haoc",(function(r,n){e(r.exports,"StripeContext",(()=>o));const o=(0,t("9so9i").createContext)(null);customElements.define("stripe-provider",o.Provider)})),t.register("30Ln9",(function(r,n){e(r.exports,"useAwait",(()=>s));var o=t("2NXZw"),i=t("9Rmcj");function s(e){const[t,r]=(0,o.useState)(!1),[n,s]=(0,o.useState)(void 0),[c,a]=(0,o.useState)(void 0);return{run:async(...n)=>{if(!t){r(!0),s(void 0);const[t,o]=await(0,i.inlineErr)(e(...n));return s(o),a(t),r(!1),t}},loading:t,result:c,err:n}}})),t.register("9Rmcj",(function(t,r){async function n(e,t){try{return[await e]}catch(e){return t||console.error(e),[void 0,e]}}e(t.exports,"inlineErr",(()=>n))})),t.register("dcRWp",(function(t,r){function n(e,t){return e.reduce(((e,r)=>({...e,[r[t]]:r})),{})}function o(e,t){const r=i(e,t);return Object.fromEntries(r)}function i(e,t){return Object.keys(e).map(((r,n)=>t(r,e[r],n)))}e(t.exports,"listToDictionary",(()=>n)),e(t.exports,"dictionaryMap",(()=>o)),e(t.exports,"dictionaryMapList",(()=>i))})),t.register("lA8qr",(function(t,r){e(t.exports,"switcher",(()=>n));const n=(...e)=>e.find((e=>e.case))?.then})),t.register("gxpVb",(function(t,r){e(t.exports,"css",(()=>o));let n=[];const o=(e,...t)=>{let r="";if(Array.isArray(e))for(let n=0;n<e.length;n++)r+=e[n],r+=t[n];else r=e;if(n.indexOf(r)>-1)return;let o=document.createElement("style");o.innerHTML=r,document.head.appendChild(o),n.push(r)}})),t.register("affuK",(function(e,r){e.exports=import("./"+t("aE9wO").resolve("532Ah")).then((()=>t("e8NUo")))})),t.register("aE9wO",(function(t,r){var n;e(t.exports,"resolve",(()=>n),(e=>n=e));var o={};n=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),t.register("i1u1J",(function(e,r){var n=t("2NXZw"),o=t("1haoc"),i=t("9so9i"),s=t("gxpVb");customElements.define("stripe-card-number",(0,i.component)((()=>{(0,n.useLayoutEffect)((()=>{s.css`
            stripe-card-number { display: block }
        `}),[]);return(0,n.useContext)(o.StripeContext)?.html?.cardNumber}),o.StripeContext.Consumer,{useShadowDOM:!1})),customElements.define("stripe-card-cvc",(0,i.component)((()=>{(0,n.useLayoutEffect)((()=>{s.css`
            stripe-card-cvc { display: block }
        `}),[]);return(0,n.useContext)(o.StripeContext)?.html?.cardCvc}),o.StripeContext.Consumer,{useShadowDOM:!1})),customElements.define("stripe-card-expiry",(0,i.component)((()=>{(0,n.useLayoutEffect)((()=>{s.css`
            stripe-card-expiry { display: block }
        `}),[]);return(0,n.useContext)(o.StripeContext)?.html?.cardExpiry}),o.StripeContext.Consumer,{useShadowDOM:!1}))}));
//# sourceMappingURL=stripe-form.f4019680.js.map
